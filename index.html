<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸–ç•Œã®å›½ã€… - å›½æƒ…å ±è¡¨ç¤ºã‚¢ãƒ—ãƒª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .content {
            padding: 30px;
        }

        .search-section {
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .search-group {
            display: flex;
            flex-direction: column;
        }

        .search-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        select {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
            font-style: italic;
        }

        .country-info {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border-left: 5px solid #4facfe;
        }

        .country-header {
            margin-bottom: 20px;
        }

        .country-name {
            text-align: center;
        }

        .country-name h2 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 5px;
        }

        .country-name .native-name {
            color: #7f8c8d;
            font-size: 1.1em;
            font-style: italic;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border: 1px solid #e9ecef;
        }

        .info-card h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #4facfe;
            padding-bottom: 8px;
        }

        .info-item {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .info-item strong {
            color: #2c3e50;
            font-weight: 600;
        }

        .languages, .currencies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .map-link {
            display: inline-block;
            background: #4facfe;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .map-link:hover {
            background: #339cf3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .error {
            background: #fff5f5;
            color: #c53030;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #e53e3e;
            margin-top: 20px;
        }

        @media (max-width: 1024px) {
            .search-section {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .search-section {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .country-header {
                text-align: center;
            }
            
            .country-name h2 {
                font-size: 1.8em;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ ä¸–ç•Œã®å›½ã€…</h1>
            <p>REST Countries APIã‚’ä½¿ç”¨ã—ãŸå›½æƒ…å ±è¡¨ç¤ºã‚¢ãƒ—ãƒª</p>
        </div>
        
        <div class="content">
            <div class="search-section">
                <div class="search-group">
                    <label for="countrySelect">å›½åï¼ˆè‹±èªï¼‰</label>
                    <select id="countrySelect">
                        <option value="">èª­ã¿è¾¼ã¿ä¸­...</option>
                    </select>
                </div>
                <div class="search-group">
                    <label for="isoSelect">ISO 3166-1 alpha-2</label>
                    <select id="isoSelect">
                        <option value="">èª­ã¿è¾¼ã¿ä¸­...</option>
                    </select>
                </div>
                <div class="search-group">
                    <label for="iso3Select">ISO 3166-1 alpha-3</label>
                    <select id="iso3Select">
                        <option value="">èª­ã¿è¾¼ã¿ä¸­...</option>
                    </select>
                </div>
            </div>
            
            <div id="countryInfo"></div>
        </div>
        <center>å½“ãƒšãƒ¼ã‚¸ã®htmlãƒ•ã‚¡ã‚¤ãƒ«ã¯GitHubã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚â‡’<a href="https://github.com/tobi00604/RESTCountriesAPI001.com/blob/main/index.html" target="_blank"><b>ã“ã¡ã‚‰</b></a></center>
    </div>

    <script>
        const countrySelect = document.getElementById('countrySelect');
        const isoSelect = document.getElementById('isoSelect');
        const iso3Select = document.getElementById('iso3Select');
        const countryInfo = document.getElementById('countryInfo');
        let countriesData = [];

        // å›½ã®ãƒªã‚¹ãƒˆã‚’å–å¾—
        async function loadCountries() {
            try {
                const response = await fetch('https://restcountries.com/v3.1/all?fields=name,cca2,cca3');
                if (!response.ok) throw new Error('ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
                
                const countries = await response.json();
                countriesData = countries.sort((a, b) => 
                    a.name.common.localeCompare(b.name.common)
                );
                
                // å›½åãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
                countrySelect.innerHTML = '<option value="">å›½åã§é¸æŠ</option>';
                countriesData.forEach(country => {
                    const option = document.createElement('option');
                    option.value = country.cca2;
                    option.textContent = country.name.common;
                    countrySelect.appendChild(option);
                });
                
                // 2æ–‡å­—ISOã‚³ãƒ¼ãƒ‰ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
                const sortedByISO2 = [...countriesData].sort((a, b) => a.cca2.localeCompare(b.cca2));
                isoSelect.innerHTML = '<option value="">2æ–‡å­—ã‚³ãƒ¼ãƒ‰ã§é¸æŠ</option>';
                sortedByISO2.forEach(country => {
                    const option = document.createElement('option');
                    option.value = country.cca2;
                    option.textContent = `${country.cca2} - ${country.name.common}`;
                    isoSelect.appendChild(option);
                });
                
                // 3æ–‡å­—ISOã‚³ãƒ¼ãƒ‰ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
                const sortedByISO3 = [...countriesData].sort((a, b) => a.cca3.localeCompare(b.cca3));
                iso3Select.innerHTML = '<option value="">3æ–‡å­—ã‚³ãƒ¼ãƒ‰ã§é¸æŠ</option>';
                sortedByISO3.forEach(country => {
                    const option = document.createElement('option');
                    option.value = country.cca2; // APIã§ã¯2æ–‡å­—ã‚³ãƒ¼ãƒ‰ã§æ¤œç´¢ã™ã‚‹
                    option.textContent = `${country.cca3} - ${country.name.common}`;
                    iso3Select.appendChild(option);
                });
                
            } catch (error) {
                countrySelect.innerHTML = '<option value="">ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ</option>';
                isoSelect.innerHTML = '<option value="">ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ</option>';
                iso3Select.innerHTML = '<option value="">ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ</option>';
                console.error('Error:', error);
            }
        }

        // é¸æŠã•ã‚ŒãŸå›½ã®è©³ç´°æƒ…å ±ã‚’å–å¾—
        async function loadCountryDetails(countryCode) {
            if (!countryCode) {
                countryInfo.innerHTML = '';
                return;
            }

            // å…¨ã¦ã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‚’åŒæœŸ
            if (countrySelect.value !== countryCode) {
                countrySelect.value = countryCode;
            }
            if (isoSelect.value !== countryCode) {
                isoSelect.value = countryCode;
            }
            if (iso3Select.value !== countryCode) {
                iso3Select.value = countryCode;
            }

            countryInfo.innerHTML = '<div class="loading">ğŸ”„ å›½ã®è©³ç´°æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</div>';

            try {
                const response = await fetch(`https://restcountries.com/v3.1/alpha/${countryCode}`);
                if (!response.ok) throw new Error('è©³ç´°æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
                
                const [country] = await response.json();
                displayCountryInfo(country);
                
            } catch (error) {
                countryInfo.innerHTML = '<div class="error">âŒ å›½ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</div>';
                console.error('Error:', error);
            }
        }

        // å›½ã®æƒ…å ±ã‚’è¡¨ç¤º
        function displayCountryInfo(country) {
            const nativeName = country.name.nativeName ? 
                Object.values(country.name.nativeName)[0].common : 
                country.name.common;

            const languages = country.languages ? 
                Object.values(country.languages).map(lang => 
                    `<span class="tag">${lang}</span>`
                ).join('') : 'æƒ…å ±ãªã—';

            const currencies = country.currencies ? 
                Object.values(country.currencies).map(curr => 
                    `<span class="tag">${curr.name} (${curr.symbol || ''})</span>`
                ).join('') : 'æƒ…å ±ãªã—';

            // æ—¥æœ¬èªç¿»è¨³ç”¨ã®è¾æ›¸
            const regionTranslations = {
                'Africa': 'ã‚¢ãƒ•ãƒªã‚«',
                'Americas': 'ã‚¢ãƒ¡ãƒªã‚«å¤§é™¸',
                'Asia': 'ã‚¢ã‚¸ã‚¢',
                'Europe': 'ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘',
                'Oceania': 'ã‚ªã‚»ã‚¢ãƒ‹ã‚¢',
                'Antarctic': 'å—æ¥µ'
            };

            const subregionTranslations = {
                'Eastern Africa': 'æ±ã‚¢ãƒ•ãƒªã‚«',
                'Middle Africa': 'ä¸­å¤®ã‚¢ãƒ•ãƒªã‚«',
                'Northern Africa': 'åŒ—ã‚¢ãƒ•ãƒªã‚«',
                'Southern Africa': 'å—éƒ¨ã‚¢ãƒ•ãƒªã‚«',
                'Western Africa': 'è¥¿ã‚¢ãƒ•ãƒªã‚«',
                'Caribbean': 'ã‚«ãƒªãƒ–æµ·',
                'Central America': 'ä¸­å¤®ã‚¢ãƒ¡ãƒªã‚«',
                'North America': 'åŒ—ã‚¢ãƒ¡ãƒªã‚«',
                'South America': 'å—ã‚¢ãƒ¡ãƒªã‚«',
                'Central Asia': 'ä¸­å¤®ã‚¢ã‚¸ã‚¢',
                'Eastern Asia': 'æ±ã‚¢ã‚¸ã‚¢',
                'South-Eastern Asia': 'æ±å—ã‚¢ã‚¸ã‚¢',
                'Southern Asia': 'å—ã‚¢ã‚¸ã‚¢',
                'Western Asia': 'è¥¿ã‚¢ã‚¸ã‚¢',
                'Eastern Europe': 'æ±ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘',
                'Northern Europe': 'åŒ—ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘',
                'Southern Europe': 'å—ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘',
                'Western Europe': 'è¥¿ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘',
                'Australia and New Zealand': 'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰',
                'Melanesia': 'ãƒ¡ãƒ©ãƒã‚·ã‚¢',
                'Micronesia': 'ãƒŸã‚¯ãƒ­ãƒã‚·ã‚¢',
                'Polynesia': 'ãƒãƒªãƒã‚·ã‚¢'
            };

            const countryTranslations = {
                'Japan': 'æ—¥æœ¬',
                'United States': 'ã‚¢ãƒ¡ãƒªã‚«åˆè¡†å›½',
                'China': 'ä¸­å›½',
                'South Korea': 'éŸ“å›½',
                'North Korea': 'åŒ—æœé®®',
                'United Kingdom': 'ã‚¤ã‚®ãƒªã‚¹',
                'France': 'ãƒ•ãƒ©ãƒ³ã‚¹',
                'Germany': 'ãƒ‰ã‚¤ãƒ„',
                'Italy': 'ã‚¤ã‚¿ãƒªã‚¢',
                'Spain': 'ã‚¹ãƒšã‚¤ãƒ³',
                'Russia': 'ãƒ­ã‚·ã‚¢',
                'Canada': 'ã‚«ãƒŠãƒ€',
                'Australia': 'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢',
                'Brazil': 'ãƒ–ãƒ©ã‚¸ãƒ«',
                'India': 'ã‚¤ãƒ³ãƒ‰',
                'Thailand': 'ã‚¿ã‚¤',
                'Vietnam': 'ãƒ™ãƒˆãƒŠãƒ ',
                'Philippines': 'ãƒ•ã‚£ãƒªãƒ”ãƒ³',
                'Indonesia': 'ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢',
                'Malaysia': 'ãƒãƒ¬ãƒ¼ã‚·ã‚¢',
                'Singapore': 'ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«',
                'Taiwan': 'å°æ¹¾',
                'Hong Kong': 'é¦™æ¸¯',
                'Mexico': 'ãƒ¡ã‚­ã‚·ã‚³',
                'Egypt': 'ã‚¨ã‚¸ãƒ—ãƒˆ',
                'South Africa': 'å—ã‚¢ãƒ•ãƒªã‚«',
                'Turkey': 'ãƒˆãƒ«ã‚³',
                'Iran': 'ã‚¤ãƒ©ãƒ³',
                'Iraq': 'ã‚¤ãƒ©ã‚¯',
                'Saudi Arabia': 'ã‚µã‚¦ã‚¸ã‚¢ãƒ©ãƒ“ã‚¢',
                'Israel': 'ã‚¤ã‚¹ãƒ©ã‚¨ãƒ«',
                'Palestine': 'ãƒ‘ãƒ¬ã‚¹ãƒãƒŠ',
                'Switzerland': 'ã‚¹ã‚¤ã‚¹',
                'Netherlands': 'ã‚ªãƒ©ãƒ³ãƒ€',
                'Belgium': 'ãƒ™ãƒ«ã‚®ãƒ¼',
                'Austria': 'ã‚ªãƒ¼ã‚¹ãƒˆãƒªã‚¢',
                'Sweden': 'ã‚¹ã‚¦ã‚§ãƒ¼ãƒ‡ãƒ³',
                'Norway': 'ãƒãƒ«ã‚¦ã‚§ãƒ¼',
                'Denmark': 'ãƒ‡ãƒ³ãƒãƒ¼ã‚¯',
                'Finland': 'ãƒ•ã‚£ãƒ³ãƒ©ãƒ³ãƒ‰',
                'Poland': 'ãƒãƒ¼ãƒ©ãƒ³ãƒ‰',
                'Czech Republic': 'ãƒã‚§ã‚³',
                'Slovakia': 'ã‚¹ãƒ­ãƒã‚­ã‚¢',
                'Hungary': 'ãƒãƒ³ã‚¬ãƒªãƒ¼',
                'Romania': 'ãƒ«ãƒ¼ãƒãƒ‹ã‚¢',
                'Bulgaria': 'ãƒ–ãƒ«ã‚¬ãƒªã‚¢',
                'Greece': 'ã‚®ãƒªã‚·ãƒ£',
                'Portugal': 'ãƒãƒ«ãƒˆã‚¬ãƒ«',
                'Ireland': 'ã‚¢ã‚¤ãƒ«ãƒ©ãƒ³ãƒ‰',
                'Iceland': 'ã‚¢ã‚¤ã‚¹ãƒ©ãƒ³ãƒ‰',
                'Argentina': 'ã‚¢ãƒ«ã‚¼ãƒ³ãƒãƒ³',
                'Chile': 'ãƒãƒª',
                'Peru': 'ãƒšãƒ«ãƒ¼',
                'Colombia': 'ã‚³ãƒ­ãƒ³ãƒ“ã‚¢',
                'Venezuela': 'ãƒ™ãƒã‚ºã‚¨ãƒ©',
                'Uruguay': 'ã‚¦ãƒ«ã‚°ã‚¢ã‚¤',
                'Paraguay': 'ãƒ‘ãƒ©ã‚°ã‚¢ã‚¤',
                'Bolivia': 'ãƒœãƒªãƒ“ã‚¢',
                'Ecuador': 'ã‚¨ã‚¯ã‚¢ãƒ‰ãƒ«',
                'New Zealand': 'ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰'
            };

            const capitalTranslations = {
                'Tokyo': 'æ±äº¬',
                'Washington, D.C.': 'ãƒ¯ã‚·ãƒ³ãƒˆãƒ³D.C.',
                'Beijing': 'åŒ—äº¬',
                'Seoul': 'ã‚½ã‚¦ãƒ«',
                'Pyongyang': 'å¹³å£Œ',
                'London': 'ãƒ­ãƒ³ãƒ‰ãƒ³',
                'Paris': 'ãƒ‘ãƒª',
                'Berlin': 'ãƒ™ãƒ«ãƒªãƒ³',
                'Rome': 'ãƒ­ãƒ¼ãƒ',
                'Madrid': 'ãƒãƒ‰ãƒªãƒ¼ãƒ‰',
                'Moscow': 'ãƒ¢ã‚¹ã‚¯ãƒ¯',
                'Ottawa': 'ã‚ªã‚¿ãƒ¯',
                'Canberra': 'ã‚­ãƒ£ãƒ³ãƒ™ãƒ©',
                'BrasÃ­lia': 'ãƒ–ãƒ©ã‚¸ãƒªã‚¢',
                'New Delhi': 'ãƒ‹ãƒ¥ãƒ¼ãƒ‡ãƒªãƒ¼',
                'Bangkok': 'ãƒãƒ³ã‚³ã‚¯',
                'Hanoi': 'ãƒãƒã‚¤',
                'Manila': 'ãƒãƒ‹ãƒ©',
                'Jakarta': 'ã‚¸ãƒ£ã‚«ãƒ«ã‚¿',
                'Kuala Lumpur': 'ã‚¯ã‚¢ãƒ©ãƒ«ãƒ³ãƒ—ãƒ¼ãƒ«',
                'Singapore': 'ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«',
                'Taipei': 'å°åŒ—',
                'Mexico City': 'ãƒ¡ã‚­ã‚·ã‚³ã‚·ãƒ†ã‚£',
                'Cairo': 'ã‚«ã‚¤ãƒ­',
                'Cape Town': 'ã‚±ãƒ¼ãƒ—ã‚¿ã‚¦ãƒ³',
                'Ankara': 'ã‚¢ãƒ³ã‚«ãƒ©',
                'Tehran': 'ãƒ†ãƒ˜ãƒ©ãƒ³',
                'Baghdad': 'ãƒã‚°ãƒ€ãƒƒãƒ‰',
                'Riyadh': 'ãƒªãƒ¤ãƒ‰',
                'Jerusalem': 'ã‚¨ãƒ«ã‚µãƒ¬ãƒ ',
                'Bern': 'ãƒ™ãƒ«ãƒ³',
                'Amsterdam': 'ã‚¢ãƒ ã‚¹ãƒ†ãƒ«ãƒ€ãƒ ',
                'Brussels': 'ãƒ–ãƒªãƒ¥ãƒƒã‚»ãƒ«',
                'Vienna': 'ã‚¦ã‚£ãƒ¼ãƒ³',
                'Stockholm': 'ã‚¹ãƒˆãƒƒã‚¯ãƒ›ãƒ«ãƒ ',
                'Oslo': 'ã‚ªã‚¹ãƒ­',
                'Copenhagen': 'ã‚³ãƒšãƒ³ãƒãƒ¼ã‚²ãƒ³',
                'Helsinki': 'ãƒ˜ãƒ«ã‚·ãƒ³ã‚­',
                'Warsaw': 'ãƒ¯ãƒ«ã‚·ãƒ£ãƒ¯',
                'Prague': 'ãƒ—ãƒ©ãƒ',
                'Bratislava': 'ãƒ–ãƒ©ãƒã‚¹ãƒ©ãƒ',
                'Budapest': 'ãƒ–ãƒ€ãƒšã‚¹ãƒˆ',
                'Bucharest': 'ãƒ–ã‚«ãƒ¬ã‚¹ãƒˆ',
                'Sofia': 'ã‚½ãƒ•ã‚£ã‚¢',
                'Athens': 'ã‚¢ãƒ†ãƒ',
                'Lisbon': 'ãƒªã‚¹ãƒœãƒ³',
                'Dublin': 'ãƒ€ãƒ–ãƒªãƒ³',
                'Reykjavik': 'ãƒ¬ã‚¤ã‚­ãƒ£ãƒ“ã‚¯',
                'Buenos Aires': 'ãƒ–ã‚¨ãƒã‚¹ã‚¢ã‚¤ãƒ¬ã‚¹',
                'Santiago': 'ã‚µãƒ³ãƒ†ã‚£ã‚¢ã‚´',
                'Lima': 'ãƒªãƒ',
                'BogotÃ¡': 'ãƒœã‚´ã‚¿',
                'Caracas': 'ã‚«ãƒ©ã‚«ã‚¹',
                'Montevideo': 'ãƒ¢ãƒ³ãƒ†ãƒ“ãƒ‡ã‚ª',
                'AsunciÃ³n': 'ã‚¢ã‚¹ãƒ³ã‚·ã‚ªãƒ³',
                'La Paz': 'ãƒ©ãƒ‘ã‚¹',
                'Quito': 'ã‚­ãƒˆ',
                'Wellington': 'ã‚¦ã‚§ãƒªãƒ³ãƒˆãƒ³'
            };

            const region = country.region || 'æƒ…å ±ãªã—';
            const subregion = country.subregion || 'æƒ…å ±ãªã—';
            const capital = country.capital ? country.capital.join(', ') : 'æƒ…å ±ãªã—';

            // æ—¥æœ¬èªè¡¨è¨˜ã‚’è¿½åŠ 
            const regionWithJapanese = region !== 'æƒ…å ±ãªã—' && regionTranslations[region] ? 
                `${region} (${regionTranslations[region]})` : region;
            
            const subregionWithJapanese = subregion !== 'æƒ…å ±ãªã—' && subregionTranslations[subregion] ? 
                `${subregion} (${subregionTranslations[subregion]})` : subregion;
            
            const countryNameWithJapanese = countryTranslations[country.name.common] ? 
                `${country.name.common} (${countryTranslations[country.name.common]})` : country.name.common;
            
            const capitalWithJapanese = capital !== 'æƒ…å ±ãªã—' && capitalTranslations[capital] ? 
                `${capital} (${capitalTranslations[capital]})` : capital;
            const population = country.population ? country.population.toLocaleString() : 'æƒ…å ±ãªã—';
            const area = country.area ? `${country.area.toLocaleString()} kmÂ²` : 'æƒ…å ±ãªã—';
            const timezones = country.timezones ? country.timezones.join(', ') : 'æƒ…å ±ãªã—';
            
            // æ—¥æœ¬ã¨ã®æ™‚å·®ã‚’è¨ˆç®—
            function calculateTimeDifference(timezones) {
                if (!timezones || timezones.length === 0) return 'è¨ˆç®—ã§ãã¾ã›ã‚“';
                
                // æ—¥æœ¬ã®æ¨™æº–æ™‚é–“ã¯ UTC+9
                const japanOffset = 9;
                const timeDifferences = [];
                
                timezones.forEach(tz => {
                    if (tz === 'UTC') {
                        timeDifferences.push(`-${japanOffset}æ™‚é–“`);
                    } else {
                        const match = tz.match(/UTC([+-])(\d{1,2}):?(\d{0,2})/);
                        if (match) {
                            const sign = match[1];
                            const hours = parseInt(match[2]);
                            const minutes = match[3] ? parseInt(match[3]) : 0;
                            
                            let offsetHours = hours + (minutes / 60);
                            if (sign === '-') offsetHours = -offsetHours;
                            
                            const difference = offsetHours - japanOffset;
                            if (difference === 0) {
                                timeDifferences.push('æ™‚å·®ãªã—');
                            } else if (difference > 0) {
                                timeDifferences.push(`+${difference}æ™‚é–“`);
                            } else {
                                timeDifferences.push(`${difference}æ™‚é–“`);
                            }
                        }
                    }
                });
                
                return timeDifferences.length > 0 ? [...new Set(timeDifferences)].join(', ') : 'è¨ˆç®—ã§ãã¾ã›ã‚“';
            }
            
            const timeDifference = calculateTimeDifference(country.timezones);
            const borders = country.borders ? 
                `${country.borders.length}ã‚«å›½ (${country.borders.join(', ')})` : 
                'ãªã—';

            countryInfo.innerHTML = `
                <div class="country-info">
                    <div class="country-header">
                        <div class="country-name">
                            <h2>${countryNameWithJapanese}</h2>
                            <div class="native-name">${nativeName}</div>
                        </div>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>ğŸ›ï¸ åŸºæœ¬æƒ…å ±</h3>
                            <div class="info-item"><strong>é¦–éƒ½:</strong> ${capitalWithJapanese}</div>
                            <div class="info-item"><strong>åœ°åŸŸ:</strong> ${regionWithJapanese}</div>
                            <div class="info-item"><strong>å‰¯åœ°åŸŸ:</strong> ${subregionWithJapanese}</div>
                            <div class="info-item"><strong>äººå£:</strong> ${population}äºº</div>
                            <div class="info-item"><strong>é¢ç©:</strong> ${area}</div>
                        </div>
                        
                        <div class="info-card">
                            <h3>ğŸ—£ï¸ è¨€èªãƒ»é€šè²¨</h3>
                            <div class="info-item">
                                <strong>å…¬ç”¨èª:</strong>
                                <div class="languages">${languages}</div>
                            </div>
                            <div class="info-item">
                                <strong>é€šè²¨:</strong>
                                <div class="currencies">${currencies}</div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <h3>ğŸŒ ãã®ä»–ã®æƒ…å ±</h3>
                            <div class="info-item"><strong>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³:</strong> ${timezones}</div>
                            <div class="info-item"><strong>æ—¥æœ¬ã¨ã®æ™‚å·®:</strong> ${timeDifference}</div>
                            <div class="info-item"><strong>å›½å¢ƒã‚’æ¥ã™ã‚‹å›½:</strong> ${borders}</div>
                            <div class="info-item"><strong>å›½ã‚³ãƒ¼ãƒ‰:</strong> ${country.cca2} / ${country.cca3}</div>
                            ${country.maps?.googleMaps ? 
                                `<a href="${country.maps.googleMaps}" target="_blank" class="map-link">ğŸ—ºï¸ Google Mapsã§è¦‹ã‚‹</a>` : 
                                ''
                            }
                        </div>
                    </div>
                </div>
            `;
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        countrySelect.addEventListener('change', (e) => {
            loadCountryDetails(e.target.value);
        });

        isoSelect.addEventListener('change', (e) => {
            loadCountryDetails(e.target.value);
        });

        iso3Select.addEventListener('change', (e) => {
            loadCountryDetails(e.target.value);
        });

        // åˆæœŸåŒ–
        loadCountries();
    </script>
</body>
</html>
